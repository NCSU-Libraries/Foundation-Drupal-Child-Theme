@import "base/init_for_custom";
@import "custom/capture_and_promote-block_4";

$title-font-size-small-screen: rem-calc(20);
$body-font-size-small-screen: rem-calc(15);
// Individual Stories
#content .story {
  @media #{$medium-up} {@include grid-column($columns:10, $center: true)};

  .intro{
    @include grid-row;
    margin-bottom: rem-calc(120);

    .story-title {
      @media #{$medium-up} {@include grid-column($columns:12)};
      margin-bottom: rem-calc(30);

      @media #{$small-only} {
        h1 {
          font-size: rem-calc(26);
        }
      }
    }

    .field-name-field-teaser {
      @media #{$medium-up} {
        @include grid-column($columns:7);

        * {
          font-size: rem-calc(20);
          @media #{$small-only} {font-size: rem-calc(12);}
        }
      }

    }

    .field-name-field-featured-image {
      @media #{$medium-up} { @include grid-column($columns:5); }
    }
  }

  .story-body {
    @include grid-row;

    .story-statement {
      @media #{$medium-up} {@include grid-column($columns:8)};
    }

    .story-statement-aside {
      @media #{$medium-up} {@include grid-column($columns:4)};

      h2:first-child {
        margin-top: 0;
      }

      .field-label {
        @extend %h4;
      }


      .user-info {
        @include grid-row($behavior: nest);
        margin-bottom: rem-calc(10);

        .user-photo {
          @include grid-column($columns:4);
        }
        .user-details {
          @include grid-column($columns:8, $collapse: true);

          .user-name {
            line-height: 1.6;
            display: block;
          }
          .user-title {
            font-size: rem-calc(13);
          }
        }
      }

      .field-items {
        @extend %ul;
        @include styled-list;

        .field-item {
          @extend %li;
        }
      }

      @media #{$small-only} {
        padding: rem-calc(20);
        background: #E8E8E8;
        * {font-size: $body-font-size-small-screen;}
      }

    }


  }
}



.date-posted {
  font-style: italic;
}

// For the landing page
#content {
  @media #{$small-only} {
    h1 {
      font-size: rem-calc(30);
    }
  }
  .view-display-id-page {
    .views-row {
      padding-bottom: 50px;
      margin-bottom: rem-calc(100);
    }

    .centering-container {
      display: table;
      width: 100%;

      .title-container {
        display: table-row;

        a.project-title {
          background: no-repeat;
          height: 300px;
          width: 100%;
          color: #fff;
          display: table-cell;
          vertical-align: middle;
          @media #{$small-only} {
            height: 200px;
          }

          &:hover {
            text-decoration: none;
          }

          h2 {
            color: #FFF;
            background: rgba(0, 0, 0, 0.8);
            display: block;
            padding: rem-calc(28);
            margin: 0 auto;
            width: 70%;
            text-align: center;
            font-size: rem-calc(45);
            font-weight: 700;
            font-family: UniversCondensed;
            @media #{$small-only} {
              width: 90%;
              font-size: $title-font-size-small-screen;
            }
          }
        }
      }
    }

    .field-name-field-teaser {
      margin: 20px 0;

      p {
        font-size: rem-calc(23);
        @media #{$small-only} {font-size: $body-font-size-small-screen;}
      }
    }

    .project-details {
      @include grid-row($behavior: nest);

      .project-author {
        @media #{$small-only} {display: none;}
        @include grid-column($columns:6);

        .user-info {
          @include grid-row($behavior: nest);

          .user-photo {
            @include grid-column($columns:4);
          }
          .user-details {
            @include grid-column($columns:8);
            font-size: 1.7em;

            .user-name {
              line-height: 1.6;
              display: block;
            }
            .user-title {
              font-size: rem-calc(17);
              display: block;
              line-height: 1.1;
            }
          }
        }
      }


      .project-meta {
        @include grid-column($columns:6);
        @media #{$small-only} {@include grid-column($columns:12);}

        .read-more {
          float: right;
          @include button($bg: rgb(0, 112, 255));
          @media #{$small-only} {
            @include button($full-width: true, $bg: rgb(0, 112, 255));
          }
        }

        .date {
          font-size: rem-calc(22);
          @media #{$small-only} {display: none;}
        }
        @media #{$small-only} {
          h3, .field-name-field-project-user-activities {
            display: none;
          }
        }
      }
    }

    .view-footer {
      @include grid-column(7, $center: true);
      margin-top: 175px;
      text-align: center;

      p {
        font-size: rem-calc(30);
      }

      a {
        @include button($bg: rgb(0, 112, 255));
        font-size: rem-calc(30);
      }

      @media #{$small-only} {
        @include grid-column(10, $center: true);
        margin-top: 20px;

        p {
          font-size: $body-font-size-small-screen;
        }

        a {
          @include button($full-width: true, $bg: rgb(0, 112, 255));
          font-size: $body-font-size-small-screen;
        }
      }
    }
  }

  .view-display-id-page_1 {
    .views-row {
      margin-bottom: 20px;
    }

    .views-field-field-lastname,
    .views-field-field-lastname .field-content,
    .views-field-created {
      display: inline;
    }

    .views-field-field-lastname {
      font-style: italic;
      color: rgba(128, 128, 128, 1);
    }

    .views-field.views-field-created {
      color: rgba(128, 128, 128, 1);
    }
  }
}

/**
 * iframe video content responsive solution
 *
 * taken from http://www.smashingmagazine.com/2014/02/27/making-embedded-content-work-in-responsive-design/
 */

.video-wrapper {
  position: relative;
  padding-bottom: 56.25%;
  padding-top: 35px;
  height: 0;
  overflow: hidden;
}

iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}


.subscribe {
  overflow: auto;
  margin-top: 30px;

  i {
    display: block;
    float: left;
    width: 8.3%;
    margin-top: 4px;
    color: #C00;
  }
  a {
    display: block;
    float: left;
    width: 90%;
  }
}